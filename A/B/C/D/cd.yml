name: SimpleCICD_CD
trigger: none
pr: none

resources:
  pipelines:
    - pipeline: Revati014_CICD  
      source: githubci
      trigger:
        branches:
          include:
            - main

pool:
  name: SelfHosted
  demands:
    - Agent.Name -equals Agennt

steps:
# ✅ Checkout the 'Prasanna' branch (correct case)
- checkout: self
  persistCredentials: true
  clean: true
  fetchDepth: 1
  ref: refs/heads/Prasanna  # exact branch name

# ✅ Run the script from the correct folder path
- script: |
    echo "📁 Running Prasanna_script.sh from branch 'Prasanna'"
    chmod +x A/B/C/D/Prasanna_script.sh
    bash A/B/C/D/Prasanna_script.sh
  displayName: 'Run Prasanna_script.sh from A/B/C/D'
